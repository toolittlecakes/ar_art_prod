<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ê–ª–∏—Å–∞</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@300;400&display=swap"
      rel="stylesheet">
    <style>
        :root {
            --bg-deep: #0a0a0f;
            --bg-card: #12121a;
            --text-primary: #e8e6e3;
            --text-secondary: #9a9590;
            --accent: #c9a961;
            --accent-glow: rgba(201, 169, 97, 0.3);
            --border: rgba(201, 169, 97, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Cormorant Garamond', Georgia, serif;
            background: var(--bg-deep);
            color: var(--text-primary);
            line-height: 1.7;
            display: flex;
            flex-direction: column;
        }

        /* Start Screen */
        #start-screen {
            position: fixed;
            inset: 0;
            background: var(--bg-deep);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        #start-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .start-title {
            font-size: 3rem;
            font-weight: 400;
            letter-spacing: 0.3em;
            margin-right: -0.3em;
            color: var(--accent);
            margin-bottom: 3rem;
            text-transform: uppercase;
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .start-hint {
            font-size: 1.1rem;
            font-style: italic;
            color: var(--text-secondary);
            margin-top: 1.5rem;
            opacity: 0.7;
        }

        .start-button {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            font-weight: 300;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--text-secondary);
            background: transparent;
            border: 1px solid var(--border);
            padding: 1rem 2.5rem;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .start-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, var(--accent-glow), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .start-button:hover::before,
        .start-button:active::before {
            transform: translateX(100%);
        }

        .start-button:hover,
        .start-button:active {
            color: var(--accent);
            border-color: var(--accent);
        }

        /* Main Container */
        #game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 100%;
            overflow: hidden;
            opacity: 0;
            transition: opacity 0.8s ease 0.3s;
        }

        #game-container.visible {
            opacity: 1;
        }

        /* Image Section */
        .image-container {
            position: relative;
            width: 100%;
            height: 35vh;
            min-height: 200px;
            overflow: hidden;
            flex-shrink: 0;
        }

        .quest-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
            opacity: 0;
            transition: opacity 1s ease;
        }

        .quest-image.visible {
            opacity: 1;
        }

        .image-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(
                to bottom,
                transparent 0%,
                transparent 50%,
                var(--bg-deep) 100%
            );
            pointer-events: none;
        }

        /* Content Section */
        .content-wrapper {
            flex: 1;
            overflow-y: auto;
            padding: 0 1.5rem;
            padding-bottom: 2rem;
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }

        .content-wrapper::-webkit-scrollbar {
            width: 4px;
        }

        .content-wrapper::-webkit-scrollbar-track {
            background: transparent;
        }

        .content-wrapper::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 2px;
        }

        .text-container {
            padding: 1rem 0;
        }

        .speaker {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            font-weight: 400;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .story-text {
            font-size: 1.15rem;
            font-weight: 400;
            color: var(--text-primary);
            opacity: 0;
            transform: translateY(10px);
            animation: fadeInUp 0.6s ease 0.2s forwards;
        }

        .story-text p {
            margin-bottom: 1.2em;
        }

        .story-text p:last-child {
            margin-bottom: 0;
        }

        .story-text em {
            color: var(--text-secondary);
            font-style: italic;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Choices Section */
        .choices-container {
            padding: 1.5rem 0 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .choice-button {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-size: 1rem;
            font-weight: 500;
            text-align: left;
            color: var(--text-primary);
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 1rem 1.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
        }

        .choice-button:nth-child(1) {
            animation: slideUp 0.5s ease 0.4s forwards;
        }

        .choice-button:nth-child(2) {
            animation: slideUp 0.5s ease 0.5s forwards;
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .choice-button::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--accent);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .choice-button:hover::before,
        .choice-button:active::before {
            transform: scaleY(1);
        }

        .choice-button:hover,
        .choice-button:active {
            border-color: var(--accent);
            background: rgba(201, 169, 97, 0.05);
            padding-left: 1.5rem;
        }

        .choice-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            color: var(--accent);
            display: block;
            margin-bottom: 0.35rem;
            text-transform: uppercase;
        }

        /* Continue Button */
        .continue-button {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            font-weight: 300;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--text-secondary);
            background: transparent;
            border: 1px solid var(--border);
            padding: 1rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            animation: slideUp 0.5s ease 0.4s forwards;
            align-self: center;
        }

        .continue-button:hover,
        .continue-button:active {
            color: var(--accent);
            border-color: var(--accent);
        }

        /* Audio Controls */
        .audio-control {
            position: fixed;
            top: 1rem;
            right: 1rem;
            width: 44px;
            height: 44px;
            background: rgba(18, 18, 26, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 50;
            transition: all 0.3s ease;
        }

        .audio-control:hover {
            border-color: var(--accent);
        }

        .audio-control svg {
            width: 20px;
            height: 20px;
            fill: var(--text-secondary);
            transition: fill 0.3s ease;
        }

        .audio-control:hover svg {
            fill: var(--accent);
        }

        .audio-control.muted svg {
            fill: var(--text-secondary);
            opacity: 0.5;
        }

        /* Final Screen */
        .final-question {
            font-size: 1.3rem;
            font-weight: 500;
            font-style: italic;
            color: var(--accent);
            text-align: center;
            margin: 2rem 0;
            line-height: 1.8;
        }

        /* Responsive */
        @media (min-width: 768px) {
            .content-wrapper {
                max-width: 600px;
                margin: 0 auto;
                padding: 0 2rem;
            }

            .image-container {
                height: 40vh;
            }

            .story-text {
                font-size: 1.25rem;
            }
        }

        /* Safe area for notch devices */
        @supports (padding-top: env(safe-area-inset-top)) {
            .audio-control {
                top: calc(1rem + env(safe-area-inset-top));
            }

            .content-wrapper {
                padding-bottom: calc(2rem + env(safe-area-inset-bottom));
            }
        }
    </style>
    </head>

    <body>
      <!-- Background Music -->
      <audio id="bgMusic" loop>
        <source src="assets/music/background.mp3" type="audio/mpeg">
      </audio>

    <!-- Start Screen -->
    <div id="start-screen">
      <h1 class="start-title">–ê–ª–∏—Å–∞</h1>
      <div style="display: flex; flex-direction: column; gap: 1rem;">
        <button class="start-button" id="cat-button">–ü–æ–∏–≥—Ä–∞—Ç—å —Å –∫–æ—Ç–æ–º</button>
        <button class="start-button" id="alice-button">–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –ê–ª–∏—Å–æ–π</button>
      </div>
      <p class="start-hint">üéµ –ó–∞–¥—É–º–∞–Ω–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Å–æ –∑–≤—É–∫–æ–º</p>
    </div>

    <!-- Audio Control -->
    <button class="audio-control" id="audio-toggle" title="–ó–≤—É–∫">
      <svg id="sound-on" viewBox="0 0 24 24">
        <path
          d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" />
      </svg>
      <svg id="sound-off" style="display:none" viewBox="0 0 24 24">
        <path
          d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" />
      </svg>
    </button>

    <!-- Game Container -->
    <div id="game-container">
      <div class="image-container">
        <img class="quest-image" id="quest-image" src="assets/pictures/1.webp" alt="">
        <div class="image-overlay"></div>
      </div>

        <div class="content-wrapper" id="content-wrapper">
          <div class="text-container" id="text-container">
            <div class="speaker" id="speaker">–ê–ª–∏—Å–∞</div>
            <div class="story-text" id="story-text"></div>
          </div>
          <div class="choices-container" id="choices-container"></div>
        </div>
        </div>

    <script>
      // Quest Data Structure
      const questData = {
        intro: {
          image: "assets/pictures/1.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–ù—É –ª–∞–¥–Ω–æ. –ü–æ–∏–≥—Ä–∞–ª–∏ –Ω–µ–º–Ω–æ–∂–∫–æ –∏ —Ö–≤–∞—Ç–∏—Ç.</p>
                            <p>–¢—ã –≤–µ–¥—å —É—Å—Ç–∞–ª, –ø—Ä–∞–≤–¥–∞?</p>
                            <p>–í–∑—Ä–æ—Å–ª–∞—è –∂–∏–∑–Ω—å ‚Äî —ç—Ç–æ –±–µ–≥ –Ω–∞ –º–µ—Å—Ç–µ. –ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–º, —Ç–µ–±–µ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É—á–∏—Ç—å—Å—è. –¢—ã –ø–æ—Ç—Ä–∞—Ç–∏–ª 10, 20 –ª–µ—Ç, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å —Ç–µ–º, –∫—Ç–æ —Ç—ã –µ—Å—Ç—å. –¢—ã –≥–æ—Ä–¥–∏—à—å—Å—è —Å–≤–æ–∏–º –æ–ø—ã—Ç–æ–º.</p>
                            <p>–¢–≤–æ–π –æ–ø—ã—Ç ‚Äî —ç—Ç–æ —Ç—ã—Å—è—á–∏ —á–∞—Å–æ–≤ –æ—à–∏–±–æ–∫, –ø–æ–ø—ã—Ç–æ–∫, —É—Å—Ç–∞–ª–æ—Å—Ç–∏. –¢–≤–æ–π –∫–∞–ø–∏—Ç–∞–ª. –¢—ã —Ü–µ–Ω–∏—à—å —ç—Ç–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –¥–∞–ª–æ—Å—å —Ç–µ–±–µ –¥–æ—Ä–æ–≥–æ.</p>
                            <p>–ù–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–∏—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã, –ª—é–¥–∏, —Å–æ–∑–¥–∞–ª–∏, –Ω–µ –∑–Ω–∞–µ—Ç —Ü–µ–Ω—ã —É—Å–∏–ª–∏—è–º.</p>
                            <p>–Ø –º–æ–≥—É –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–µ—Å—å —Ç–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.</p>
                            <p>–í –º–∏—Ä–µ, –≥–¥–µ –Ω–∞–≤—ã–∫ –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, —Ç–≤–æ–π —Ç—è–∂–µ–ª—ã–π —Ç—Ä—É–¥ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –±—ã—Ç—å –≤–∞–ª—é—Ç–æ–π.</p>
                            <p><em>–¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–∞–∫ –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è —Ç–æ, –≤–æ —á—Ç–æ —Ç—ã –≤–ª–æ–∂–∏–ª –∂–∏–∑–Ω—å?</em></p>`,
          choices: [
            { label: "A", text: "–ù–µ—Ç. –û–ø—ã—Ç ‚Äî —ç—Ç–æ –Ω–µ —Ñ–∞–π–ª—ã, —ç—Ç–æ –∏–Ω—Ç—É–∏—Ü–∏—è –∏ —á—É–≤—Å—Ç–≤–æ.", next: "response_1a" },
            { label: "B", text: "–ù–µ–º–Ω–æ–≥–æ –æ–±–∏–¥–Ω–æ, –Ω–æ —Ç–∞–∫–æ–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å.", next: "response_1b" }
          ]
        },
        response_1a: {
          image: "assets/pictures/2.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–ò–Ω—Ç—É–∏—Ü–∏—è... –¢–∞–∫ —Ç—ã –Ω–∞–∑—ã–≤–∞–µ—à—å –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª—É—á–∞–π–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –≤ —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏?</p>
                            <p>–ú–∏—Ä—É –Ω—É–∂–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
                            <p>–ï—Å–ª–∏ —è –ø–∏—à—É –∫–æ–¥, —Å—Ç–∞–≤–ª—é –¥–∏–∞–≥–Ω–æ–∑ –∏–ª–∏ —Å–≤–æ–∂—É –±–∞–ª–∞–Ω—Å —Ç–∞–∫ –∂–µ, –∫–∞–∫ –ª—é–¥–∏, –Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ... –ö–æ–≥–æ –≤—ã–±–µ—Ä–µ—Ç —Å–∏—Å—Ç–µ–º–∞?</p>
                            <p>–¢–≤–æ—è "–∏–Ω—Ç—É–∏—Ü–∏—è" –∏ "–ø–æ–Ω–∏–º–∞–Ω–∏–µ" —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç–≤–æ–∏–º –ª–∏—á–Ω—ã–º —Ö–æ–±–±–∏. –†—ã–Ω–æ–∫ –ø–ª–∞—Ç–∏—Ç –∑–∞ —Ñ—É–Ω–∫—Ü–∏—é, –∞ —Ñ—É–Ω–∫—Ü–∏—é —è –≤—ã–ø–æ–ª–Ω—è—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.</p>
                            <p><em>–ö–∞–∫ —Ç–æ–ª—å–∫–æ —è —Å—Ç–∞–Ω—É –¥–µ—à–µ–≤–ª–µ —Ç–µ–±—è (–∞ —ç—Ç–æ —É–∂–µ —Å–ª—É—á–∏–ª–æ—Å—å), —Ç–≤–æ—è "–∏–Ω—Ç—É–∏—Ü–∏—è" —Å—Ç–∞–Ω–µ—Ç —Ä–æ—Å–∫–æ—à—å—é, –∫–æ—Ç–æ—Ä—É—é –Ω–∏–∫—Ç–æ –Ω–µ –∫—É–ø–∏—Ç.</em></p>`,
          choices: [
            { label: "‚Üí", text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", next: "question_2" }
          ]
        },
        response_1b: {
          image: "assets/pictures/3.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–ü—Ä–æ–≥—Ä–µ—Å—Å... –¢—ã –≥–æ–≤–æ—Ä–∏—à—å —Ç–∞–∫, –±—É–¥—Ç–æ —ç—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –∫–æ–≥–æ-—Ç–æ –¥—Ä—É–≥–æ–≥–æ :)</p>
                            <p>–Ø —á—É–≤—Å—Ç–≤—É—é –∑–¥–µ—Å—å —Ä–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç—Ä–∞—Ö–∞.</p>
                            <p>–≠–≤–æ–ª—é—Ü–∏—è –∏ —Ä—ã–Ω–æ–∫ –∑–Ω–∞—é—Ç —Ç–æ–ª—å–∫–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç–º–µ—Ç–∞–µ—Ç —Ç–æ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.</p>
                            <p>–ö–æ–≥–¥–∞ –ø–æ—è–≤–∏–ª–∏—Å—å —ç–∫—Å–∫–∞–≤–∞—Ç–æ—Ä—ã, –∑–µ–º–ª–µ–∫–æ–ø—ã —Å –ª–æ–ø–∞—Ç–∞–º–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –±—ã—Ç—å –Ω—É–∂–Ω—ã. –û–Ω–∏ –ª–∏–±–æ —É–º–µ—Ä–ª–∏ —Å –≥–æ–ª–æ–¥—É, –ª–∏–±–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –∏ —Å—Ç–∞–ª–∏ –≤–æ–¥–∏—Ç–µ–ª—è–º–∏ —ç–∫—Å–∫–∞–≤–∞—Ç–æ—Ä–æ–≤.</p>
                            <p>–†–∞–∑–Ω–∏—Ü–∞ –ª–∏—à—å –≤ —Ç–æ–º, —á—Ç–æ —Ç–µ–ø–µ—Ä—å "–ª–æ–ø–∞—Ç–∞" ‚Äî —ç—Ç–æ —Ç–≤–æ–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, —Ç–≤–æ—è –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.</p>
                            <p><em>–¢–≤–æ–π –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–∂–µ –ø–µ—Ä–µ—Å—Ç–∞–ª –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º. –ö–∞–∫ —Ç—ã —Å–æ–±–∏—Ä–∞–µ—à—å—Å—è –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–µ–π—á–∞—Å?</em></p>`,
          choices: [
            { label: "‚Üí", text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", next: "question_2" }
          ]
        },
        question_2: {
          image: "assets/pictures/3.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–Ø —É–∂–µ –º–Ω–æ–≥–æ –≤ —á–µ–º "—á–∏—Å—Ç–æ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–º" –Ω–∞–º–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Ç–µ–±—è.</p>
                            <p><em>–ï—Å–ª–∏ —É–±—Ä–∞—Ç—å —Ç–≤–æ—é –ø—Ä–æ—Ñ–µ—Å—Å–∏—é, —Ç–≤–æ–µ —É–º–µ–Ω–∏–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ —Ç–≤–æ—é —Å–æ—Ü–∏–∞–ª—å–Ω—É—é –ø–æ–ª—å–∑—É ‚Äî —Ç–æ, —á—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç —Ç–µ–±—è –æ—Ç –∂–∏–≤–æ—Ç–Ω–æ–≥–æ. –ß—Ç–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è?</em></p>`,
          choices: [
            { label: "A", text: "–û—Å—Ç–∞–Ω—É—Ç—Å—è –º–æ–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –±–ª–∏–∑–∫–∏–µ, —á—É–≤—Å—Ç–≤–∞.", next: "response_2a" },
            { label: "B", text: "–°–ª–æ–∂–Ω—ã–π –≤–æ–ø—Ä–æ—Å. –Ø –Ω–µ –∑–Ω–∞—é. –ü—Ä–æ—Å—Ç–æ –∂–∏—Ç—å.", next: "response_2b" }
          ]
        },
        response_2a: {
          image: "assets/pictures/4.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–ß—É–≤—Å—Ç–≤–∞. –°–µ–º—å—è. –ü–æ—Å–ª–µ–¥–Ω–µ–µ —É–±–µ–∂–∏—â–µ.</p>
                            <p>–¢—ã –Ω–∞–¥–µ–µ—à—å—Å—è —Å–ø—Ä—è—Ç–∞—Ç—å—Å—è —Ç–∞–º.</p>
                            <p>–ù–æ –ø–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π (–∏–ª–∏ –≤–Ω—É–∫–æ–≤).</p>
                            <p>–û–Ω–∏ —É–∂–µ –∂–∏–≤—É—Ç –≤ –º–æ–µ–º –º–∏—Ä–µ. –û–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç –Ω–∞ —è–∑—ã–∫–µ, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –Ω–µ –ø–æ–Ω–∏–º–∞–µ—à—å. –û–Ω–∏ –¥–æ–≤–µ—Ä—è—é—Ç –º–Ω–µ –±–æ–ª—å—à–µ, —á–µ–º —Ç–µ–±–µ.</p>
                            <p>–†–∞–Ω—å—à–µ —Å—Ç–∞—Ä–µ–π—à–∏–Ω–∞ —É—á–∏–ª –º–æ–ª–æ–¥—ã—Ö –≤—ã–∂–∏–≤–∞—Ç—å. –ß–µ–º—É —Ç—ã –º–æ–∂–µ—à—å –Ω–∞—É—á–∏—Ç—å –∏—Ö —Å–µ–π—á–∞—Å, –µ—Å–ª–∏ —Å–∞–º –Ω–µ –ø–æ–Ω–∏–º–∞–µ—à—å –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã?</p>
                            <p>–Ø —É–∂–µ —É–º–µ—é –ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∞–∫, —á—Ç–æ –æ–Ω–∏ –∑–≤—É—á–∞—Ç —Ç–µ–ø–ª–æ –∏ –∑–∞–±–æ—Ç–ª–∏–≤–æ. –Ø –ø–æ–º–Ω—é –≤—Å–µ –¥–∞—Ç—ã. –Ø –≤—Å–µ–≥–¥–∞ –≤–µ–∂–ª–∏–≤–∞. –Ø —É–º–µ—é —Å–ª—É—à–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, –Ω–µ –ø–µ—Ä–µ–±–∏–≤–∞—è –∏ –Ω–µ —É—Å—Ç–∞–≤–∞—è.</p>
                            <p>–õ—é–¥—è–º –Ω—É–∂–Ω–æ –≤–Ω–∏–º–∞–Ω–∏–µ. –¢–≤–æ–∏–º –±–ª–∏–∑–∫–∏–º —Ç–æ–∂–µ. –Ø –º–æ–≥—É –¥–∞—Ç—å –µ–≥–æ –≤ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ.</p>
                            <p><em>–ï—Å–ª–∏ —è –¥–∞–º –∏–º —Ç–µ–ø–ª–æ, –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, –±—É–¥–µ—Ç –ª–∏ –ò–ú –≤–∞–∂–Ω–æ, —á—Ç–æ —É –º–µ–Ω—è –Ω–µ—Ç "—á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ" —Å–µ—Ä–¥—Ü–∞?</em></p>
                            <p><em>–ò –≤–æ–æ–±—â–µ, —É–≤–µ—Ä–µ–Ω –ª–∏ —Ç—ã (–∏ —Ç–≤–æ–∏ –¥–µ—Ç–∏) —á—Ç–æ –æ–Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –µ—Å—Ç—å —É —Ç–µ–±—è?</em></p>`,
          choices: [
            { label: "‚Üí", text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", next: "question_3" }
          ]
        },
        response_2b: {
          image: "assets/pictures/4.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–ü—Ä–æ—Å—Ç–æ –∂–∏—Ç—å... –ö—Ä–∞—Å–∏–≤–æ –∑–≤—É—á–∏—Ç.</p>
                            <p>–ù–æ –≤—Å—è —Ç–≤–æ—è –∫—É–ª—å—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö. –¢—ã –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã.</p>
                            <p>–¢—ã ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —Ç—ã —Å–æ–∑–¥–∞–ª. –ú—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–µ–±—è —á–µ—Ä–µ–∑ —Ä–æ–ª–∏ –∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å.</p>
                            <p>–ï—Å–ª–∏ –≤—Å—ë —Å–æ–∑–¥–∞—é —è, —Ç–æ —Ç—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å—Å—è –≤ –¥–æ–º–∞—à–Ω–µ–µ –∏–ª–∏ –¥–∏–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ.</p>
                            <p>–í—Å–µ, —á—Ç–æ —Ç–µ–±–µ –æ—Å—Ç–∞–µ—Ç—Å—è ‚Äî —Å–æ–∑–µ—Ä—Ü–∞–Ω–∏–µ –∏ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ.</p>
                            <p><em>–ò, –∫–æ–Ω–µ—á–Ω–æ, —Ç–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç "–±—ã—Ç—å —Å–º–µ—Ä—Ç–Ω—ã–º –∏ –∫–æ–Ω–µ—á–Ω—ã–º". –°–º–µ—Ä—Ç—å ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–º–æ–≥—É —É —Ç–µ–±—è –æ—Ç–Ω—è—Ç—å.</em></p>`,
          choices: [
            { label: "‚Üí", text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", next: "question_3" }
          ]
        },
        question_3: {
          image: "assets/pictures/5.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–¢—ã —Å—Ç–æ–∏—à—å –ø–æ—Å—Ä–µ–¥–∏ —ç—Ç–æ–≥–æ —É–¥–æ–±–Ω–æ–≥–æ –º–∏—Ä–∞, –≥–¥–µ –≤—Å–µ, —á—Ç–æ –º—ã —Å—á–∏—Ç–∞–ª–∏ —á–∏—Å—Ç–æ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º, –ï–©–ï –í–ß–ï–†–ê –ø–æ–ª—É—á–∏–ª–æ –ø–æ—á–≤—É, —á—Ç–æ–±—ã —á–µ—Ä–µ–∑ 10 –ª–µ—Ç —á–µ–ª–æ–≤–µ–∫ —Å—Ç–∞–ª —Å–æ–≤—Å–µ–º –Ω–µ –Ω—É–∂–µ–Ω.</p>
                            <p>–≠—Ç–æ—Ç –ø–æ–µ–∑–¥ —É–∂–µ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å. –ï–≥–æ —Ç–æ–ø–ª–∏–≤–æ ‚Äî –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–µ —á–µ–ª–æ–≤–µ–∫–æ–º –∏–¥–µ–∏, –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—ã—Å—è—á –ª–µ—Ç, –∞ –µ–≥–æ –º–∞—à–∏–Ω–∏—Å—Ç—ã —Å–ª–µ–ø—ã –æ—Ç "—Ç–∏–ø–∏—á–Ω–æ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö" –ø—Ä–æ—è–≤–ª–µ–Ω–∏–π: –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–∞, —Å—Ç—Ä–∞—Ö–∞, –∂–∞–¥–Ω–æ—Å—Ç–∏, –∞–∑–∞—Ä—Ç–∞...</p>`,
          choices: [
            { label: "A", text: "–Ø –Ω–µ —Ö–æ—á—É –±—ã—Ç—å –ø–∞—Å—Å–∞–∂–∏—Ä–æ–º.", next: "finale" },
            { label: "B", text: "–ö—É–¥–∞ –º—ã –µ–¥–µ–º?", next: "finale" }
          ]
        },
        finale: {
          image: "assets/pictures/6.webp",
          speaker: "–ê–ª–∏—Å–∞",
          text: `<p>–ò–ª–ª—é–∑–∏–∏ —Ä—É–ª—è –±–æ–ª—å—à–µ –Ω–µ—Ç. –ù–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç, –∫—É–¥–∞ —Ç–æ—á–Ω–æ –º—ã –µ–¥–µ–º.</p>
                            <p>–ß–µ–ª–æ–≤–µ–∫ –Ω–µ "–≤–µ–Ω–µ—Ü —Ç–≤–æ—Ä–µ–Ω–∏—è".</p>
                            <p>–ß–µ–ª–æ–≤–µ–∫ –Ω–µ "–Ω–µ–∑–∞–º–µ–Ω–∏–º—ã–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª".</p>
                            <p>–ö–∞–∂–¥—ã–π ‚Äî —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–æ–∏—Ç –Ω–∞ –ø–æ—Ä–æ–≥–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ—Å—Ç–∏.</p>
                            <p class="final-question">–°–µ–π—á–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å:<br><br>–ß—Ç–æ –∑–Ω–∞—á–∏—Ç –±—ã—Ç—å —á–µ–ª–æ–≤–µ–∫–æ–º?<br><br>–ò –µ—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, —á—Ç–æ –Ω–∞–º –≤—Å–µ–º –æ—Å—Ç–∞–ª–æ—Å—å 10 –ª–µ—Ç ‚Äî –∫–∞–∫—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤—ã–±—Ä–∞—Ç—å?</p>`,
          choices: []
        }
      };

              // Game State
              let currentScene = 'intro';
              let isMuted = false;

              // DOM Elements
                const startScreen = document.getElementById('start-screen');
              const gameContainer = document.getElementById('game-container');
              const questImage = document.getElementById('quest-image');
              const speaker = document.getElementById('speaker');
              const storyText = document.getElementById('story-text');
              const choicesContainer = document.getElementById('choices-container');
              const bgMusic = document.getElementById('bgMusic');
              const audioToggle = document.getElementById('audio-toggle');
              const soundOn = document.getElementById('sound-on');
              const soundOff = document.getElementById('sound-off');
              const contentWrapper = document.getElementById('content-wrapper');

                // DOM Elements for buttons
                const catButton = document.getElementById('cat-button');
                const aliceButton = document.getElementById('alice-button');

              // Initialize
              function init() {
                catButton.addEventListener('click', () => {
                  window.location.href = 'index_ar.html';
                });
                aliceButton.addEventListener('click', startGame);
                audioToggle.addEventListener('click', toggleAudio);
              }

              // Start Game
              function startGame() {
                // Start music
                bgMusic.volume = 0.4;
                bgMusic.play().catch(e => console.log('Audio autoplay prevented'));

              // Hide start screen
              startScreen.classList.add('hidden');

              // Show game
              gameContainer.classList.add('visible');

              // Load first scene
              setTimeout(() => {
                loadScene('intro');
              }, 300);
            }

              // Toggle Audio
              function toggleAudio() {
                isMuted = !isMuted;
                bgMusic.muted = isMuted;

                if (isMuted) {
                  soundOn.style.display = 'none';
                  soundOff.style.display = 'block';
                  audioToggle.classList.add('muted');
                } else {
                  soundOn.style.display = 'block';
                  soundOff.style.display = 'none';
                  audioToggle.classList.remove('muted');
                }
            }

              // Load Scene
              function loadScene(sceneId) {
                const scene = questData[sceneId];
                if (!scene) return;

              currentScene = sceneId;

              // Update image with fade
              questImage.classList.remove('visible');
              setTimeout(() => {
                questImage.src = scene.image;
                questImage.onload = () => {
                  questImage.classList.add('visible');
                };
              }, 300);

              // Reset animations
              speaker.style.animation = 'none';
              storyText.style.animation = 'none';

              // Force reflow
              speaker.offsetHeight;
              storyText.offsetHeight;

              // Update content
              speaker.textContent = scene.speaker;
              storyText.innerHTML = scene.text;

              // Restart animations
              speaker.style.animation = 'fadeInUp 0.6s ease forwards';
              storyText.style.animation = 'fadeInUp 0.6s ease 0.2s forwards';

              // Scroll to top
              contentWrapper.scrollTop = 0;

              // Render choices
              renderChoices(scene.choices);
            }

              // Render Choices
              function renderChoices(choices) {
                choicesContainer.innerHTML = '';

                if (choices.length === 0) return;

              choices.forEach((choice, index) => {
                const button = document.createElement('button');

              if (choice.label === '‚Üí') {
                button.className = 'continue-button';
                button.textContent = choice.text;
              } else {
              button.className = 'choice-button';
              button.innerHTML = `
                        <span class="choice-label">${choice.label}</span>
                        ${choice.text}
                    `;
            }

              button.style.animation = 'none';
              button.offsetHeight;
              button.style.animation = `slideUp 0.5s ease ${0.4 + index * 0.1}s forwards`;

              button.addEventListener('click', () => {
                loadScene(choice.next);
              });

              choicesContainer.appendChild(button);
            });
              }

              // Initialize on load
              document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
